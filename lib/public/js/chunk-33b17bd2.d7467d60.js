(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33b17bd2"],{4104:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title title-bar"},[i("div",[i("van-button",{staticClass:"back",attrs:{icon:"arrow-left",type:"primary"},on:{click:t.back}}),i("span",[t._v("CPU")])],1),i("span",[i("van-button",{attrs:{type:"primary",size:"mini"},on:{click:t.open}},[t._v("查看结果")])],1)]),i("div",{style:{height:"280px"},attrs:{id:"cupChart"}}),i("van-button",{staticClass:"down-btn",attrs:{icon:"down",type:"primary"},on:{click:t.down}}),i("div",{staticClass:"title"},[t._v("Memory")]),i("div",{style:{height:"280px"},attrs:{id:"memoryChart"}}),i("van-button",{staticClass:"up-btn",attrs:{icon:"back-top",type:"primary"},on:{click:t.up}}),i("van-popup",{style:{height:"140px",width:"300px"},attrs:{position:"center"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"pop-container"},[i("div",{staticClass:"item"},[i("span",[t._v("WIFI")]),i("img",{staticStyle:{width:"120px",height:"120px"},attrs:{src:a("78d1")}})]),i("div",{staticClass:"item"},[i("span",[t._v("RESULT")]),i("img",{staticStyle:{width:"120px",height:"120px"},attrs:{src:a("78d1")}})])])])],1)},n=[],o=(a("b680"),a("313e")),s=a.n(o),r=a("bc3a"),c=a.n(r),l={data:function(){return{cpuData:[{value:0,name:"CPU"}],memoryData:{xAxis:[],yAxis:[]},show:!1}},mounted:function(){var t=this,e=s.a.init(document.getElementById("cupChart")),a={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"业务指标",type:"gauge",detail:{formatter:"{value}%"},data:this.cpuData}],axisLine:{lineStyle:{width:8}},axisTick:{show:!1},splitLine:{length:15,lineStyle:{color:"auto"}},pointer:{width:2}};e.setOption(a);var i=s.a.init(document.getElementById("memoryChart")),n={tooltip:{},xAxis:{type:"category",data:this.memoryData.xAxis},yAxis:{type:"value"},series:[{data:this.memoryData.yAxis,type:"line",label:{normal:{show:!0}}}]};i.setOption(n);var o=window.location.origin;this.myInterval=setInterval((function(){c.a.get("".concat(o,"/api/cpu")).then((function(i){console.log("------",i.data);var n=i.data;t.cpuData[0].value=n?(1*n/8).toFixed(2):(100*Math.random()).toFixed(2)-0,e.setOption(a)})),c.a.get("".concat(o,"/api/memory")).then((function(e){var a=e.data,o=new Date,s=o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDay()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds();if(t.memoryData.xAxis.push(s),a)t.memoryData.yAxis.push(1e3*a);else{var r=(1e3*Math.random()).toFixed(2)-0;t.memoryData.yAxis.push(r)}i.setOption(n)}))}),5e3)},methods:{open:function(){this.show=!0},down:function(){window.scroll({top:700,left:0,behavior:"smooth"})},up:function(){window.scroll({top:0,left:0,behavior:"smooth"})},back:function(){this.$router.go(-1)}},destroyed:function(){this.myInterval&&clearInterval(this.myInterval)}},p=l,u=(a("f3e2"),a("2877")),d=Object(u["a"])(p,i,n,!1,null,"2502633c",null);e["default"]=d.exports},"49e6":function(t,e,a){},"78d1":function(t,e,a){t.exports=a.p+"img/result.671c8493.png"},f3e2:function(t,e,a){"use strict";a("49e6")}}]);